<?php
defined('BASEPATH') OR exit('No direct script access allowed');

class Dashboard extends CI_Controller {
	function __construct() {
		parent::__construct();
	}
	/* Map */
	public function main_map()
	{
		$data['data_marker'] = $this->Main_model->getSelectedData('provinsi a', 'a.*',array('a.wilayah'=>'2'))->result();
		$this->load->view('user/dashboard/main_map',$data);
	}
	public function index()
	{
		$data['parent'] = 'dashboard';
		$data['child'] = 'map';
		$data['grand_child'] = '';
		$data['data_all'] = $this->Main_model->getSelectedData('provinsi a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi) AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi) AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi) AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi) AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_provinsi=a.id_provinsi) AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi) AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi) AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi) AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi) AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_provinsi=a.id_provinsi) AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi) AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi) AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi) AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi) AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_provinsi=a.id_provinsi) AS jumlah_sarling',array('a.wilayah'=>'2'))->result();
		$data['data_marker'] = $this->Main_model->getSelectedData('provinsi a', 'a.*',array('a.wilayah'=>'2'))->result();
		$this->load->view('admin/template/header',$data);
		$this->load->view('admin/dashboard/main',$data);
		$this->load->view('admin/template/footer');
	}
	public function province()
	{
		$data['parent'] = 'dashboard';
		$data['child'] = 'map';
		$data['grand_child'] = '';
		$data_provinsi = $this->Main_model->getSelectedData('provinsi a', 'a.*',array('md5(a.id_provinsi)'=>$this->uri->segment(3)))->result();
		$kml = '';
		$wilayah = '';
		foreach ($data_provinsi as $key => $value) {
			$kml = $value->kml;
			$wilayah = $value->nm_provinsi;
		}
		$data['wilayah'] = $wilayah;
		$data['kml'] = $kml;
		$data['data_marker'] = $this->Main_model->getSelectedData('kabupaten a', 'a.*',array('md5(a.id_provinsi)'=>$this->uri->segment(3)))->result();
		$data['data_provinsi'] = $this->Main_model->getSelectedData('provinsi a', 'a.*',array('md5(a.id_provinsi)'=>$this->uri->segment(3)))->row();
		$data['data_all'] = $this->Main_model->getSelectedData('kabupaten a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten) AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten) AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten) AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten) AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_kabupaten=a.id_kabupaten) AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten) AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten) AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten) AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten) AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_kabupaten=a.id_kabupaten) AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten) AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten) AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten) AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten) AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_kabupaten=a.id_kabupaten) AS jumlah_sarling',array('md5(a.id_provinsi)'=>$this->uri->segment(3)))->result();
		$this->load->view('admin/template/header',$data);
		$this->load->view('admin/dashboard/province',$data);
		$this->load->view('admin/template/footer');
	}
	public function city()
	{
		$data['parent'] = 'dashboard';
		$data['child'] = 'map';
		$data['grand_child'] = '';
		$data_kabupaten = $this->Main_model->getSelectedData('kabupaten a', 'a.*',array('md5(a.id_kabupaten)'=>$this->uri->segment(3)))->result();
		$kml = '';
		$wilayah = '';
		foreach ($data_kabupaten as $key => $value) {
			$kml = $value->kml;
			$wilayah = $value->nm_kabupaten;
		}
		$data['wilayah'] = $wilayah;
		$data['kml'] = $kml;
		$data['data_marker'] = $this->Main_model->getSelectedData('kecamatan a', 'a.*',array('md5(a.id_kabupaten)'=>$this->uri->segment(3)))->result();
		$data['data_kabupaten'] = $this->Main_model->getSelectedData('kabupaten a', 'a.*',array('md5(a.id_kabupaten)'=>$this->uri->segment(3)))->row();
		$data['data_all'] = $this->Main_model->getSelectedData('kecamatan a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan) AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan) AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan) AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan) AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_kecamatan=a.id_kecamatan) AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan) AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan) AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan) AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan) AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_kecamatan=a.id_kecamatan) AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan) AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan) AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan) AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan) AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_kecamatan=a.id_kecamatan) AS jumlah_sarling',array('md5(a.id_kabupaten)'=>$this->uri->segment(3)))->result();
		$this->load->view('admin/template/header',$data);
		$this->load->view('admin/dashboard/city',$data);
		$this->load->view('admin/template/footer');
	}
	public function sub_district()
	{
		$data['parent'] = 'dashboard';
		$data['child'] = 'map';
		$data['grand_child'] = '';
		$data_kecamatan = $this->Main_model->getSelectedData('kecamatan a', 'a.*',array('md5(a.id_kecamatan)'=>$this->uri->segment(3)))->result();
		$kml = '';
		$wilayah = '';
		foreach ($data_kecamatan as $key => $value) {
			$kml = $value->kml;
			$wilayah = $value->nm_kecamatan;
		}
		$data['wilayah'] = $wilayah;
		$data['kml'] = $kml;
		$data['data_marker'] = $this->Main_model->getSelectedData('desa a', 'a.*',array('md5(a.id_kecamatan)'=>$this->uri->segment(3)))->result();
		$data['data_kecamatan'] = $this->Main_model->getSelectedData('kecamatan a', 'a.*',array('md5(a.id_kecamatan)'=>$this->uri->segment(3)))->row();
		$data['data_all'] = $this->Main_model->getSelectedData('desa a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa) AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa) AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa) AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa) AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_desa=a.id_desa) AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa) AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa) AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa) AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa) AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_desa=a.id_desa) AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa) AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa) AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa) AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa) AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_desa=a.id_desa) AS jumlah_sarling',array('md5(a.id_kecamatan)'=>$this->uri->segment(3)))->result();
		$this->load->view('admin/template/header',$data);
		$this->load->view('admin/dashboard/sub_district',$data);
		$this->load->view('admin/template/footer');
	}
	/* Graph */
	public function main_graph(){
		$data['parent'] = 'dashboard';
		$data['child'] = 'graph';
		$data['grand_child'] = '';
		$tahun = date('Y');
		$data['periode'] = date('Y');
		if($this->input->post('tahun')!=NULL){
			$tahun = $this->input->post('tahun');
			$data['periode'] = $tahun;
		}
		else{
			echo'';
		}
		// $data['data_all'] = $this->Main_model->getSelectedData('provinsi a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling')->result();
		if($this->input->post('grafik')!=NULL AND $this->input->post('wilayah')!=NULL){
			if($this->input->post('grafik')=='1'){
				$data['penanda'] = '1';
				if($this->input->post('wilayah')=='4'){
					$data['data_utama_1a'] = $this->Main_model->getSelectedData('provinsi a', 'a.*,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling')->result();
				}else{
					if($this->input->post('wilayah')=='1'){
						$data['wilayah'] = 'Wilayah I';
					}elseif($this->input->post('wilayah')=='2'){
						$data['wilayah'] = 'Wilayah II';
					}elseif($this->input->post('wilayah')=='3'){
						$data['wilayah'] = 'Wilayah III';
					}else{
						echo'';
					}
					$data['data_utama_1b'] = $this->Main_model->getSelectedData('provinsi a', 'a.*,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('a.wilayah'=>$this->input->post('wilayah')))->result();
				}
			}
			elseif($this->input->post('grafik')=='2'){
				$data['penanda'] = '2';
				if($this->input->post('wilayah')=='4'){
					$data['data_utama_2a'] = $this->Main_model->getSelectedData('provinsi a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling')->result();
				}else{
					if($this->input->post('wilayah')=='1'){
						$data['wilayah'] = 'Wilayah I';
					}elseif($this->input->post('wilayah')=='2'){
						$data['wilayah'] = 'Wilayah II';
					}elseif($this->input->post('wilayah')=='3'){
						$data['wilayah'] = 'Wilayah III';
					}else{
						echo'';
					}
					$data['data_utama_2b'] = $this->Main_model->getSelectedData('provinsi a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('a.wilayah'=>$this->input->post('wilayah')))->result();
				}
			}
			elseif($this->input->post('grafik')=='3'){
				$data['penanda'] = '3';
				if($this->input->post('wilayah')=='4'){
					$data['data_utama_3a'] = $this->Main_model->getSelectedData('provinsi a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling')->result();
				}else{
					if($this->input->post('wilayah')=='1'){
						$data['wilayah'] = 'Wilayah I';
					}elseif($this->input->post('wilayah')=='2'){
						$data['wilayah'] = 'Wilayah II';
					}elseif($this->input->post('wilayah')=='3'){
						$data['wilayah'] = 'Wilayah III';
					}else{
						echo'';
					}
					$data['data_utama_3b'] = $this->Main_model->getSelectedData('provinsi a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('a.wilayah'=>$this->input->post('wilayah')))->result();
				}
			}
			elseif($this->input->post('grafik')=='4'){
				$data['penanda'] = '4';
				if($this->input->post('wilayah')=='4'){
					$data['data_utama_4a'] = $this->Main_model->getSelectedData('provinsi a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling')->result();
				}else{
					if($this->input->post('wilayah')=='1'){
						$data['wilayah'] = 'Wilayah I';
					}elseif($this->input->post('wilayah')=='2'){
						$data['wilayah'] = 'Wilayah II';
					}elseif($this->input->post('wilayah')=='3'){
						$data['wilayah'] = 'Wilayah III';
					}else{
						echo'';
					}
					$data['data_utama_4b'] = $this->Main_model->getSelectedData('provinsi a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('a.wilayah'=>$this->input->post('wilayah')))->result();
				}
			}
			elseif($this->input->post('grafik')=='5'){
				if($this->input->post('wilayah')=='4'){
					$data['judul'] = 'Jenis Usaha Kube di Indonesia Tahun '.$tahun;
					$data['data_provinsi'] = $this->Main_model->getSelectedData('provinsi a', 'a.*')->result();
					$data['jenis_kube'] = $this->Main_model->getSelectedData('jenis_usaha a', 'a.*,(SELECT COUNT(b.id_jenis_usaha) FROM kube b WHERE b.tahun="'.$tahun.'" AND b.id_jenis_usaha=a.id_jenis_usaha AND b.deleted="0") AS jml', '', "jml DESC")->result();
				}else{
					if($this->input->post('wilayah')=='1'){
						$data['judul'] = 'Jenis Usaha Kube di Wilayah I Tahun '.$tahun;
					}elseif($this->input->post('wilayah')=='2'){
						$data['judul'] = 'Jenis Usaha Kube di Wilayah II Tahun '.$tahun;
					}elseif($this->input->post('wilayah')=='3'){
						$data['judul'] = 'Jenis Usaha Kube di Wilayah III Tahun '.$tahun;
					}else{
						echo'';
					}
					$data['data_provinsi'] = $this->Main_model->getSelectedData('provinsi a', 'a.*',array('a.wilayah'=>$this->input->post('wilayah')))->result();
					$data['jenis_kube'] = $this->Main_model->getSelectedData('jenis_usaha a', 'a.*,(SELECT COUNT(b.id_jenis_usaha) FROM kube b LEFT JOIN provinsi p ON b.id_provinsi=p.id_provinsi WHERE b.tahun="'.$tahun.'" AND b.id_jenis_usaha=a.id_jenis_usaha AND b.deleted="0" AND p.wilayah="'.$this->input->post('wilayah').'") AS jml', '', "jml DESC")->result();
				}
			}
			elseif($this->input->post('grafik')=='6'){
				if($this->input->post('wilayah')=='4'){
					$data['judul'] = 'Jenis Sarling di Indonesia Tahun '.$tahun;
					$data['data_provinsi'] = $this->Main_model->getSelectedData('provinsi a', 'a.*')->result();
					$data['jenis_sarling'] = $this->Main_model->getSelectedData('jenis_sarling a', 'a.*,(SELECT COUNT(b.id_jenis_sarling) FROM sarling b WHERE b.tahun="'.$tahun.'" AND b.id_jenis_sarling=a.id_jenis_sarling AND b.deleted="0") AS jml', '', "jml DESC")->result();
				}else{
					if($this->input->post('wilayah')=='1'){
						$data['judul'] = 'Jenis Sarling di Wilayah I Tahun '.$tahun;
					}elseif($this->input->post('wilayah')=='2'){
						$data['judul'] = 'Jenis Sarling di Wilayah II Tahun '.$tahun;
					}elseif($this->input->post('wilayah')=='3'){
						$data['judul'] = 'Jenis Sarling di Wilayah III Tahun '.$tahun;
					}else{
						echo'';
					}
					$data['data_provinsi'] = $this->Main_model->getSelectedData('provinsi a', 'a.*',array('a.wilayah'=>$this->input->post('wilayah')))->result();	
					$data['jenis_sarling'] = $this->Main_model->getSelectedData('jenis_sarling a', 'a.*,(SELECT COUNT(b.id_jenis_sarling) FROM sarling b LEFT JOIN provinsi p ON b.id_provinsi=p.id_provinsi WHERE b.tahun="'.$tahun.'" AND b.id_jenis_sarling=a.id_jenis_sarling AND b.deleted="0" AND p.wilayah="'.$this->input->post('wilayah').'") AS jml', '', "jml DESC")->result();
				}
			}
		}
		$this->load->view('admin/template/header',$data);
		$this->load->view('admin/dashboard/main_graph',$data);
		$this->load->view('admin/template/footer');
	}
	public function graph_province(){
		$id = $this->uri->segment(3);
		$data['parent'] = 'dashboard';
		$data['child'] = 'graph';
		$data['grand_child'] = '';
		$tahun = date('Y');
		$data['periode'] = date('Y');
		if($this->input->post('tahun')!=NULL){
			$tahun = $this->input->post('tahun');
			$data['periode'] = $tahun;
		}
		else{
			echo'';
		}
		$data['data_provinsi'] = $this->Main_model->getSelectedData('provinsi a', 'a.*',array('md5(a.id_provinsi)'=>$id))->row();
		// $data['data_all'] = $this->Main_model->getSelectedData('kabupaten a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('md5(a.id_provinsi)'=>$id))->result();
		if($this->uri->segment(4)!=NULL){
			if($this->uri->segment(4)=='1'){
				$data['penanda'] = '1';
				$data['data_utama_1'] = $this->Main_model->getSelectedData('kabupaten a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('md5(a.id_provinsi)'=>$id))->result();
			}
			elseif($this->uri->segment(4)=='2'){
				$data['penanda'] = '2';
				$data['data_utama_2'] = $this->Main_model->getSelectedData('kabupaten a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('md5(a.id_provinsi)'=>$id))->result();
			}
			elseif($this->uri->segment(4)=='3'){
				$data['penanda'] = '3';
				$data['data_utama_3'] = $this->Main_model->getSelectedData('kabupaten a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('md5(a.id_provinsi)'=>$id))->result();
			}
			elseif($this->uri->segment(4)=='4'){
				$data['penanda'] = '4';
				$data['data_utama_4'] = $this->Main_model->getSelectedData('kabupaten a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_kabupaten=a.id_kabupaten AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('md5(a.id_provinsi)'=>$id))->result();
			}
			// elseif($this->uri->segment(4)=='5'){
			// 	$data['data_utama_5'] = $this->Main_model->getSelectedData('provinsi a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('a.wilayah'=>$this->input->post('wilayah')))->result();
			// }
			// elseif($this->uri->segment(4)=='6'){
			// 	$data['data_utama_6'] = $this->Main_model->getSelectedData('provinsi a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('a.wilayah'=>$this->input->post('wilayah')))->result();
			// }
		}
		$this->load->view('admin/template/header',$data);
		$this->load->view('admin/dashboard/graph_province',$data);
		$this->load->view('admin/template/footer');
	}
	public function graph_region(){
		$id = $this->uri->segment(3);
		$data['parent'] = 'dashboard';
		$data['child'] = 'graph';
		$data['grand_child'] = '';
		$tahun = date('Y');
		$data['periode'] = date('Y');
		if($this->input->post('tahun')!=NULL){
			$tahun = $this->input->post('tahun');
			$data['periode'] = $tahun;
		}
		else{
			echo'';
		}
		$data['data_kabupaten'] = $this->Main_model->getSelectedData('kabupaten a', 'a.*',array('md5(a.id_kabupaten)'=>$id))->row();
		// $data['data_all'] = $this->Main_model->getSelectedData('kecamatan a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('md5(a.id_kabupaten)'=>$id))->result();
		if($this->uri->segment(4)!=NULL){
			if($this->uri->segment(4)=='1'){
				$data['penanda'] = '1';
				$data['data_utama_1'] = $this->Main_model->getSelectedData('kecamatan a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('md5(a.id_kabupaten)'=>$id))->result();
			}
			elseif($this->uri->segment(4)=='2'){
				$data['penanda'] = '2';
				$data['data_utama_2'] = $this->Main_model->getSelectedData('kecamatan a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('md5(a.id_kabupaten)'=>$id))->result();
			}
			elseif($this->uri->segment(4)=='3'){
				$data['penanda'] = '3';
				$data['data_utama_3'] = $this->Main_model->getSelectedData('kecamatan a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('md5(a.id_kabupaten)'=>$id))->result();
			}
			elseif($this->uri->segment(4)=='4'){
				$data['penanda'] = '4';
				$data['data_utama_4'] = $this->Main_model->getSelectedData('kecamatan a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_kecamatan=a.id_kecamatan AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('md5(a.id_kabupaten)'=>$id))->result();
			}
			// elseif($this->uri->segment(4)=='5'){
			// 	$data['data_utama_5'] = $this->Main_model->getSelectedData('provinsi a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('a.wilayah'=>$this->input->post('wilayah')))->result();
			// }
			// elseif($this->uri->segment(4)=='6'){
			// 	$data['data_utama_6'] = $this->Main_model->getSelectedData('provinsi a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_provinsi=a.id_provinsi AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('a.wilayah'=>$this->input->post('wilayah')))->result();
			// }
		}
		$this->load->view('admin/template/header',$data);
		$this->load->view('admin/dashboard/graph_region',$data);
		$this->load->view('admin/template/footer');
	}
	public function graph_district(){
		$id = $this->uri->segment(3);
		$data['parent'] = 'dashboard';
		$data['child'] = 'graph';
		$data['grand_child'] = '';
		$tahun = date('Y');
		$data['periode'] = date('Y');
		if($this->input->post('tahun')!=NULL){
			$tahun = $this->input->post('tahun');
			$data['periode'] = $tahun;
		}
		else{
			echo'';
		}
		$data['data_kecamatan'] = $this->Main_model->getSelectedData('kecamatan a', 'a.*',array('md5(a.id_kecamatan)'=>$id))->row();
		// $data['data_all'] = $this->Main_model->getSelectedData('desa a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('md5(a.id_kecamatan)'=>$id))->result();
		if($this->uri->segment(4)!=NULL){
			if($this->uri->segment(4)=='1'){
				$data['penanda'] = '1';
				$data['data_utama_1'] = $this->Main_model->getSelectedData('desa a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('md5(a.id_kecamatan)'=>$id))->result();
			}
			elseif($this->uri->segment(4)=='2'){
				$data['penanda'] = '2';
				$data['data_utama_2'] = $this->Main_model->getSelectedData('desa a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('md5(a.id_kecamatan)'=>$id))->result();
			}
			elseif($this->uri->segment(4)=='3'){
				$data['penanda'] = '3';
				$data['data_utama_3'] = $this->Main_model->getSelectedData('desa a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('md5(a.id_kecamatan)'=>$id))->result();
			}
			elseif($this->uri->segment(4)=='4'){
				$data['penanda'] = '4';
				$data['data_utama_4'] = $this->Main_model->getSelectedData('desa a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_desa=a.id_desa AND k.tahun="'.$tahun.'" AND k.deleted="0") AS jumlah_sarling',array('md5(a.id_kecamatan)'=>$id))->result();
			}
			// elseif($this->uri->segment(4)=='5'){
			// 	$data['data_utama_5'] = $this->Main_model->getSelectedData('provinsi a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi) AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi) AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi) AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi) AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_provinsi=a.id_provinsi) AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi) AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi) AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi) AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi) AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_provinsi=a.id_provinsi) AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi) AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi) AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi) AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi) AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_provinsi=a.id_provinsi) AS jumlah_sarling',array('a.wilayah'=>$this->input->post('wilayah')))->result();
			// }
			// elseif($this->uri->segment(4)=='6'){
			// 	$data['data_utama_6'] = $this->Main_model->getSelectedData('provinsi a', 'a.*,(SELECT SUM(s.persentase_realisasi) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi) AS persentase_realisasi_kube,(SELECT SUM(s.persentase_fisik) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi) AS persentase_fisik_kube,(SELECT SUM(s.anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi) AS anggaran_kube,(SELECT SUM(s.persentase_anggaran) FROM kube k LEFT JOIN status_laporan_kube s ON k.id_kube=s.id_kube WHERE k.id_provinsi=a.id_provinsi) AS persentase_anggaran_kube,(SELECT COUNT(k.id_kube) FROM kube k WHERE k.id_provinsi=a.id_provinsi) AS jumlah_kube,(SELECT SUM(s.persentase_fisik) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi) AS persentase_fisik_rutilahu,(SELECT SUM(s.anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi) AS anggaran_rutilahu,(SELECT SUM(s.persentase_anggaran) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi) AS persentase_anggaran_rutilahu,(SELECT SUM(s.persentase_realisasi) FROM rutilahu k LEFT JOIN status_laporan_rutilahu s ON k.id_rutilahu=s.id_rutilahu WHERE k.id_provinsi=a.id_provinsi) AS persentase_realisasi_rutilahu,(SELECT COUNT(k.id_rutilahu) FROM rutilahu k WHERE k.id_provinsi=a.id_provinsi) AS jumlah_rutilahu,(SELECT SUM(s.persentase_fisik) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi) AS persentase_fisik_sarling,(SELECT SUM(s.anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi) AS anggaran_sarling,(SELECT SUM(s.persentase_anggaran) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi) AS persentase_anggaran_sarling,(SELECT SUM(s.persentase_realisasi) FROM sarling k LEFT JOIN status_laporan_sarling s ON k.id_sarling=s.id_sarling WHERE k.id_provinsi=a.id_provinsi) AS persentase_realisasi_sarling,(SELECT COUNT(k.id_sarling) FROM sarling k WHERE k.id_provinsi=a.id_provinsi) AS jumlah_sarling',array('a.wilayah'=>$this->input->post('wilayah')))->result();
			// }
		}
		$this->load->view('admin/template/header',$data);
		$this->load->view('admin/dashboard/graph_district',$data);
		$this->load->view('admin/template/footer');
	}
}